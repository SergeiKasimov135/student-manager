<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Редактировать данные о студенте [[ ${student.name} ]] &ndash; student-manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<div class="container text-center my-4">
    <h2 data-th-text="${student.name}">Данные о студенте</h2>
    <a class="btn btn-primary" data-th-href="@{ /students/list }">Вернуться к списку</a>
    <br>

    <div data-th-if="${errors}">
        <h3>Допущены ошибки</h3>
        <ul>
            <li data-th-each="error: ${errors}" data-th-text="${error}"></li>
        </ul>
    </div>

    <form method="post" data-th-action="@{ /students/{studentId}/edit(studentId=${student.id}) }">
        <label>
            Имя:<br>
            <input type="text" name="name" data-th-value="${payload != null ? payload.name : student.name}">
        </label><br>

        <label>
            Фамилия:<br>
            <input type="text" name="lastName" data-th-value="${payload != null ? payload.lastName
            : student.lastName}">
        </label><br>

        <label>
            Возраст:<br>
            <input type="number" name="age" data-th-value="${payload != null ? payload.age : student.age}">
        </label><br>

        <label>
            Электронная почта:<br>
            <input type="text" name="email" data-th-value="${payload != null ? payload.email : student.email}">
        </label><br>

        <label>
            Номер телефона:<br>
            <input type="text" name="phoneNumber" data-th-value="${payload != null ? payload.phoneNumber
            : student.phoneNumber}">
        </label><br>

        <label>
            Курс:<br>
            <select name="courseLevel">
                <option value="" disabled selected>Выберите курс</option>
                <option value="1" th:selected="${student.courseLevel.value == 1}">Первый</option>
                <option value="2" th:selected="${student.courseLevel.value == 2}">Второй</option>
                <option value="3" th:selected="${student.courseLevel.value == 3}">Третий</option>
                <option value="4" th:selected="${student.courseLevel.value == 4}">Четвертый</option>
            </select>
        </label><br><br>

        <button type="submit">Изменить</button>
    </form>
</div>
</body>
</html>